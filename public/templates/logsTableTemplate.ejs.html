<!---
event log (a list of events)
each event has timestamp, related tslink's name, username (email) and an unstructured  data field. 
system log (think about /var/authlog in linux)
-->

<!DOCTYPE html>
<html lang="en">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
 <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
  <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">

</head>
<body>


<div align="middle" class="container" width="60%">
  <h1 align="middle"> <font face="Arial" size="5" color="black"><b>Event Log</b></font></h1>   
  <div class="bodycontainer scrollable"> 
  <table class="table table-striped header-fixed table-scrollable" id="table">

    <!-- assuming the same for all event logs -->
    <thead id="head">

      <script> 
        var rawdata = JSON.parse("[{\"Timestamp\":\"12:00:00\",\"TSLink\":\"TS-Link0\",\"Username\":\"user-name0\",\"Event\":\"event-0\"},{\"Timestamp\":\"12:00:00\",\"TSLink\":\"TS-Link0\",\"Username\":\"user-name0\",\"Event\":\"event-0\"},{\"Timestamp\":\"12:00:00\",\"TSLink\":\"TS-Link0\",\"Username\":\"user-name0\",\"Event\":\"event-0\"},{\"Timestamp\":\"12:00:00\",\"TSLink\":\"TS-Link0\",\"Username\":\"user-name0\",\"Event\":\"event-0\"},{\"Timestamp\":\"12:00:00\",\"TSLink\":\"TS-Link0\",\"Username\":\"user-name0\",\"Event\":\"event-0\"},{\"Timestamp\":\"12:00:00\",\"TSLink\":\"TS-Link0\",\"Username\":\"user-name0\",\"Event\":\"event-0\"},{\"Timestamp\":\"12:00:00\",\"TSLink\":\"TS-Link0\",\"Username\":\"user-name0\",\"Event\":\"event-0\"},{\"Timestamp\":\"12:00:00\",\"TSLink\":\"TS-Link0\",\"Username\":\"user-name0\",\"Event\":\"event-0\"},{\"Timestamp\":\"12:00:00\",\"TSLink\":\"TS-Link0\",\"Username\":\"user-name0\",\"Event\":\"event-0\"},{\"Timestamp\":\"12:00:00\",\"TSLink\":\"TS-Link0\",\"Username\":\"user-name0\",\"Event\":\"event-0\"},{\"Timestamp\":\"12:00:00\",\"TSLink\":\"TS-Link0\",\"Username\":\"user-name0\",\"Event\":\"event-0\"},{\"Timestamp\":\"12:00:00\",\"TSLink\":\"TS-Link0\",\"Username\":\"user-name0\",\"Event\":\"event-0\"}]");
        // build table head
        var head = document.getElementById("head");
        var arr = Object.keys(rawdata[0]); // keys from table
        tr = document.createElement('tr');
        for (var j = 0; j < arr.length; j++) {
          th = document.createElement('th');
          th.appendChild(document.createTextNode(arr[j])); 
          tr.appendChild(th);
        }
        head.appendChild(tr);
        document.getElementById("table").appendChild(head);

      </script>
    
   </thead>

    <tbody id="body" style="overflow-y: auto">

      <script>
        // build table body 
        var body = document.getElementById("body");
        for (var i = 0; i < rawdata.length; i++) { // for each object
          tr = document.createElement('tr'); // for each key
          for (var j = 0; j < arr.length; j++) {
            td = document.createElement('td');
            td.appendChild(document.createTextNode(rawdata[i][arr[j]]));
            tr.appendChild(td);
          }
           body.appendChild(tr);
        }

        document.getElementById("table").appendChild(body);
                  
      </script>

    </tbody>
  </table>
  </div>
</div>

</body>

<style>
</style>
</html>
